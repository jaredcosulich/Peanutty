/*!
  * =============================================================
  * Ender: open module JavaScript framework (https://ender.no.de)
  * Build: ender build ender-vows ..
  * =============================================================
  */


/*!
  * Ender: open module JavaScript framework (client-lib)
  * copyright Dustin Diaz & Jacob Thornton 2011 (@ded @fat)
  * http://ender.no.de
  * License MIT
  */
!function(a){function d(a){var c=b[a]||window[a];if(!c)throw new Error("Requested module '"+a+"' has not been defined.");return c}function e(a,c){return b[a]=c}function f(a,b){for(var c in b)c!="noConflict"&&c!="_VERSION"&&(a[c]=b[c]);return a}function g(a,b,c){return h._select&&(typeof a=="string"||a.nodeName||a.length&&"item"in a||a==window)?(c=h._select(a,b),c.selector=a):c=isFinite(a.length)?a:[a],f(c,g)}function h(a,b){return g(a,b)}a.global=a;var b={},c=a.$;a.provide=e,a.require=d,f(h,{_VERSION:"0.3.4",fn:g,ender:function(a,b){f(b?g:h,a)},_select:function(a,b){return(b||document).querySelectorAll(a)}}),f(g,{forEach:function(a,b,c){for(c=0,l=this.length;c<l;++c)c in this&&a.call(b||this[c],this[c],c,this);return this},$:h}),h.noConflict=function(){return a.$=c,this},typeof module!="undefined"&&module.exports&&(module.exports=h),a.ender=a.$=a.ender||h}(this),!function(){var a={exports:{}},b=a.exports;!function(a){var b,c,d,e,f,g,h;return a.renderTemplate=function(a,b,c){return a=f(a),a=e(a,b,c),a=g(a),a},f=function(a){return a.replace(/\{\{/g,"﹛").replace(/\}\}/g,"﹝")},g=function(a){return a.replace(/\ufe5b/g,"{").replace(/\ufe5d/g,"}")},c=(h=Array.isArray)!=null?h:function(a){return Object.prototype.toString.call(a)==="[object Array]"},b=function(a){return(a||"").toString().replace(/&(?!\w+;)|["<>]/g,function(a){switch(a){case"&":return"&amp";case'"':return'"';case"<":return"&lt";case">":return"&gt";default:return a}})},d=/\s*\{([!:])\s*([^}]*?)\s*\}([\S\s]+?)\s*\{\/\s*\2\s*\}|\{(\#)\s*[\S\s]+?\s*\#\}|\{([@&]?)\s*([^}]*?)\s*\}/mg,e=function(a,g,h){return a.replace(d,function(a,d,i,j,k,l,m){var n,o,p,q,r,s,t,u,v,w,x;r=d||k||l,q=i||m,n=j;switch(r){case":":v=g[q];if(v==null)throw"Invalid section: "+g+": "+q+": "+v;if(c(v)){t=[];for(o=0,w=v.length;o<w;o++)u=v[o],u["#"]=o,t.push(e(n,u,h));return t.join("")}return typeof v=="object"?e(n,v,h):typeof v=="function"?v.call(g,n):v?e(n,g,h):"";case"!":v=g[q];if(v==null)throw"Invalid inverted section: "+g+": "+q+": "+v;return!v||c(v)&&v.length===0?e(n,g,h):"";case"#":return"";case"@":p=h?h[q]:null;if(p==null)throw"Invalid link: "+h+": "+q+": "+p;return typeof p=="function"&&(p=p.call(g)),e(f(p),g,h);case"&":case"":v=g;while(v&&q)x=q.match(/^([^.]*)\.?(.*)$/).slice(1),s=x[0],q=x[1],s in v?v=v[s]:v=null;if(v==null)throw"Invalid value: "+g+": "+q+": "+v;return typeof v=="function"&&(v=v.call(g)),r==="&"?v:b(v)}})}}(typeof b!="undefined"&&b!==null?b:this.wings={}),provide("wings",a.exports),!function(a){var b;return b=require("wings").renderTemplate,a.ender({renderTemplate:b}),a.ender({render:function(a,c){return b(this[0].innerHTML,a,c)}},!0)}(ender)}(),!function(){var a={exports:{}},b=a.exports;!function(b,c){typeof define=="function"?define(c):typeof a!="undefined"?a.exports=c():this[b]=this.domReady=c()}("domready",function(a){function l(a){k=1;while(a=b.shift())a()}var b=[],c,d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k=/^loade|c/.test(e.readyState);return e[i]&&e[i](h,c=function(){e.removeEventListener(h,c,d),l()},d),g&&e.attachEvent(j,c=function(){/^c/.test(e.readyState)&&(e.detachEvent(j,c),l())}),a=g?function(c){self!=top?k?c():b.push(c):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){a(c)},50)}c()}()}:function(a){k?a():b.push(a)}}),provide("domready",a.exports),!function(a){var b=require("domready");a.ender({domReady:b}),a.ender({ready:function(a){return b(a),this}},!0)}(ender)}(),!function(){var a={exports:{}},b=a.exports,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=Object.prototype.hasOwnProperty,B=function(a,b){function d(){this.constructor=a}for(var c in b)A.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},C=function(a,b){return function(){return a.apply(b,arguments)}};c=typeof provide!="undefined"&&provide!==null?provide("assert",{}):this.assert={},c.AssertionError=function(){function a(a){var b;this.name="AssertionError",this.message=a.message,this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,b=a.stackStartFunction||h,Error.captureStackTrace!=null&&Error.captureStackTrace(this,b)}return B(a,Error),a.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",JSON.stringify(this.expected),this.operator,JSON.stringify(this.actual)].join(" ")},a}(),c.fail=h=function(a,b,d,e,f){throw new c.AssertionError({message:d,actual:a,expected:b,operator:e,stackStartFunction:f})},c.ok=p=function(a,b){if(!a)return h(a,!0,b,"==",c.ok)},c.equal=e=function(a,b,d){if(a!=b)return h(a,b,d,"==",c.equal)},c.notEqual=m=function(a,b,d){if(a==b)return h(a,b,d,"!=",c.notEqual)},c.deepEqual=d=function(a,b,d){if(!t(a,b))return h(a,b,d,"deepEqual",c.deepEqual)},t=function(a,b){return a===b?!0:a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():typeof a!="object"&&typeof b!="object"?a==b:o(a,b)},i=function(a){return Object.prototype.toString.call(a)==="[object Arguments]"},o=function(a,b){var c,d,e,f,g;if(a==null||b==null)return!1;if(a.prototype!==b.prototype)return!1;if(i(a))return i(b)?(a=Array.prototype.slice.call(a),b=Array.prototype.slice.call(b),t(a,b)):!1;try{d=Object.keys(a),e=Object.keys(b)}catch(h){return!1}if(d.length!==e.length)return!1;d.sort(),e.sort();for(c=f=d.length-1;c>=0;c+=-1)if(d[c]!==e[c])return!1;for(c=g=d.length-1;c>=0;c+=-1)if(!t(a[d[c]],b[d[c]]))return!1;return!0},c.notDeepEqual=l=function(a,b,d){if(t(a,b))return h(a,b,d,"notDeepEqual",c.notDeepEqual)},c.strictEqual=s=function(a,b,d){if(a!==b)return h(a,b,d,"===",c.strictEqual)},c.notStrictEqual=n=function(a,b,d){if(a===b)return h(a,b,d,"!==",c.notStrictEqual)},g=function(a,b){return!a||!b?!1:b instanceof RegExp?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1},z=function(a,b,c,d){var e;typeof c=="string"&&(d=c,c=null);try{b()}catch(f){e=f}d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&e==null&&h("Missing expected exception"+d),!a&&g(e,c)&&h("Got unwanted exception"+d);if(!a&&e)throw e;if(a&&e!=null&&c!=null&&!g(e,c))throw e},c.throws=function(a,b,c){return z.apply(this,[!0].concat(Array.prototype.slice.call(arguments)))},c.doesNotThrow=function(a,b,c){return z.apply(this,[!1].concat(Array.prototype.slice.call(arguments)))},c.ifError=function(a){if(a)throw a},f=typeof provide!="undefined"&&provide!==null?provide("events",{}):this.events={},j=(w=Array.isArray)!=null?w:function(a){return Object.prototype.toString.call(a)==="[object Array]"},f.EventEmitter=function(){function a(){}return a.prototype.emit=function(a){var b,c,d,e,f;if(this._events==null||!this._events[a]||!this._events[a].length)return!1;b=Array.prototype.slice.call(arguments,1),f=this._events[a];for(d=0,e=f.length;d<e;d++)c=f[d],c.apply(this,b);return!0},a.prototype.addListener=function(a,b){return this.emit("newListener",a,b),this.listeners(a).push(b),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(a,b){var c;return c=C(function(){return b.apply(this.removeListener(a,c),arguments)},this),this.on(a,c),this},a.prototype.removeListener=function(a,b){var c;return this._events&&a in this._events&&(this._events[a]=function(){var d,e,f,g;if(c!==b){f=this._events[a],g=[];for(d=0,e=f.length;d<e;d++)c=f[d],g.push(c);return g}}.call(this),this._events[a].length===0&&delete this._events[a]),this},a.prototype.removeAllListeners=function(a){return this._events&&a in this._events&&delete this._events[a],this},a.prototype.listeners=function(a){var b;return(b=this._events)==null&&(this._events={}),a in this._events||(this._events[a]=[]),this._events[a]},a}(),k={},(x=this.provide)==null&&(this.provide=function(a,b){return k[a]=b}),(y=this.require)==null&&(this.require=function(a){var b;return(b=k[a])!=null?b:this[a]}),f=require("events"),r=typeof provide!="undefined"&&provide!==null?provide("streams",{}):this.streams={},r.ReadableStream=function(){function a(){a.__super__.constructor.apply(this,arguments)}return B(a,f.EventEmitter),a.prototype.readable=!1,a.prototype.setEncoding=function(){throw new Error("Not Implemented")},a.prototype.pause=function(){throw new Error("Not Implemented")},a.prototype.resume=function(){throw new Error("Not Implemented")},a.prototype.destroy=function(){throw new Error("Not Implemented")},a}(),r.WriteableStream=function(){function a(){a.__super__.constructor.apply(this,arguments)}return B(a,f.EventEmitter),a.prototype.writeable=!1,a.prototype.write=function(a){throw new Error("Not Implemented")},a.prototype.end=function(a){throw new Error("Not Implemented")},a.prototype.destroy=function(){throw new Error("Not Implemented")},a}(),r=require("streams"),q=typeof provide!="undefined"&&provide!==null?provide("process",{}):this.process={},q.stdout=function(){function a(){a.__super__.constructor.apply(this,arguments)}return B(a,r.WriteableStream),a.prototype.writeable=!0,a.prototype.write=function(a){return this.writeable&&document.write(a),!0},a.prototype.end=function(a){a&&write(a),this.writeable=!1,this.emit("close")},a.prototype.destroy=function(){this.writeable=!1,this.emit("close")},a}(),q.platform=navigator.platform,v=[],u=function(){var a,b,c;try{for(b=0,c=v.length;b<c;b++)a=v[b],a();v.splice(0,b);if(v.length)return setTimeout(u,1)}catch(d){throw v.splice(0,b+1),v.length&&setTimeout(u,1),d}},q.nextTick=function(a){v.push(a);if(v.length===1)return setTimeout(u,1)},provide("node-compat",a.exports),$.ender(a.exports)}(),!function(){var a={exports:{}},b=a.exports,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=Object.prototype.hasOwnProperty,v=function(a,b){function d(){this.constructor=a}for(var c in b)u.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},w=function(a,b){return function(){return a.apply(b,arguments)}},x=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1};i=require("events"),r=typeof provide!="undefined"&&provide!==null?provide("vows",{}):typeof b!="undefined"&&b!==null?b:this.vows={},r.add=function(a,b,c){var d;return d=new r.Context(a,b,c),r.runner.add(d),d},r.describe=function(a,b){return r.add(a,Array.prototype.slice.call(arguments,1),b)},r.run=function(){return r.runner.run()},r.VowsError=function(){function a(a,b){this.context=a,this.message=b,this.message=""+this.context.description+": "+this.message}return v(a,Error),a.prototype.toString=function(){return""+this.context.description+": "+this.message},a}(),r.Context=function(){function a(a,b,c,d){this.callback=w(this.callback,this);var e,f,g,h,i,j,k,l;this.description=a,this.parent=d,this._events={maxListeners:100},this.options=c!=null?c:{},this.matched=this.options.matcher==null||((k=this.parent)!=null?k.matched:void 0)||this.options.matcher.test(this.description),this.results={startDate:null,endDate:null},l=["total","running","honored","pending","broken","errored"];for(g=0,i=l.length;g<i;g++)e=l[g],this.results[e]=0;switch(typeof b){case"string":this.type="comment",this.results.total=1,this.content=b;break;case"function":this.type="test",this.results.total=1,this.content=b;break;case"object":if(b.length!=null){this.type="batch",this.content=[];for(h=0,j=b.length;h<j;h++)f=b[h],this.add(new r.Context(null,f,this.options,this))}else{this.type="group",this.content={};for(e in b)f=b[e],e==="topic"||e==="async"||e==="setup"||e==="teardown"?(e==="topic"&&(this.hasTopic=!0),this[e]=f):this.add(new r.Context(e,f,this.options,this))}break;default:throw new r.VowsError(this,"Unknown content type")}}return v(a,i.EventEmitter),a.prototype.report=function(){if(!this.options.silent)return r.report.apply(this,arguments)},a.prototype._errorPattern=/^function\s*\w*\s*\(\s*(e|err|error)\b/,a.prototype.run=function(a){var b,c,d,e,f,g,h,j;this.topics=a!=null?Array.prototype.slice.call(a):[],this.results.startDate=new Date,w(function(){var a,b;return b=this,this.env=new(a=function(){function a(){this.context=b,this.topics=b.topics,this.success=function(){return b.success.apply(b,arguments)},this.error=function(){return b.error.apply(b,arguments)},this.callback=function(){return b.callback.apply(b,arguments)}}return a.prototype=b.parent?b.parent.env:{},a.prototype.constructor=a,a}())},this)();if(this.matched)this.emit(this.status="begin");else return this.emit(this.status="skip"),this.end("skipped");this.parent===r.runner&&this.description&&this.report("subject",this.description);switch(this.type){case"comment":this.end("pending");break;case"test":try{this.content.apply(this.env,this.topics),this.end("honored")}catch(k){this.exception=k,((h=k.name)!=null?h.match(/AssertionError/):void 0)?this.end("broken"):this.end("errored")}break;case"batch":if(!this.content.length)return this.end("done");b=this.content.slice();while(b.length)d=b.pop(),typeof f!="undefined"&&f!==null?d.on("end",function(b){return function(){return b.run(a)}}(f)):d.on("end",w(function(){return this.end("done")},this)),f=d;d.run(this.topics);break;case"group":if(!function(){var a;a=[];for(e in this.content)a.push(e);return a}.call(this).length)return this.end("end");if(this.setup!=null)try{this.setup.apply(this.env,this.topics)}catch(k){return this.exeption=k,this.end("errored")}this.on("topic",w(function(){var a;if(this.hasTopic)return a=Array.prototype.slice.call(arguments),this.topics=a.concat(this.topics)},this)),this.hasTests=!1,j=this.content,g=w(function(a){return this.results.running++,!this.hasTests&&a.type==="test"&&(this.hasTests=!0,this.on("run",w(function(){var a,b;a=this,b=[this.description];while((a=a.parent)&&a.parent!==r.runner)a.description&&b.unshift(a.description);return this.report("context",{description:b.join(" ")})},this))),this.on("topic",w(function(){return a.type==="test"&&this._errorPattern.test(a.content)?a.run([null].concat(this.topics)):a.run(this.topics)},this)),this.on("error",w(function(b){return a.type==="test"&&this._errorPattern.test(a.content)?a.run(arguments):(a.exception=b,a.end("errored"))},this)),a.on("end",w(function(a){if(!--this.results.running)return this.end("done")},this))},this);for(e in j)c=j[e],g(c);this.on("topic",w(function(){if(this.teardown!=null)return this.teardown.apply(this,this.topics)},this));if(this.topic==null)this.topics.length&&(this.topic=this.topics[0]);else if(typeof this.topic=="function")try{this.topic=this.topic.apply(this.env,this.topics),this.topic==null?this.async=!0:this.async&&(this.topic=null)}catch(k){return this.error(k),this}this.topic!=null?this.topic instanceof i.EventEmitter?(this.async=!0,this.topic.on("success",w(function(){return this.success.apply(this,arguments)},this)),this.topic.on("error",w(function(){return this.error.apply(this,arguments)},this))):(this.async=!1,this.success(this.topic)):this.async||this.success()}return this},a.prototype.end=function(a){var b,c,d,e,f,g,h,i;if((g=this.status)==="end")throw new r.VowsError(this,"The 'end' event was triggered twice");this.result=a,this.results.endDate=new Date,this.results.duration=(this.results.endDate-this.results.startDate)/1e3;if(this.type==="group"&&this.result==="errored"&&!this.hasTests){b=this,d=[this.description];while((b=b.parent)&&b.parent!==r.runner)b.description&&d.unshift(b.description);this.report("context",{description:d.join(" "),exception:this.exception})}if((h=this.type)==="test"||h==="comment")this.results[this.result]++,this.report("vow",{description:this.description,content:this.content,context:this.parent.description,result:this.result,duration:this.results.duration,exception:this.exception});if(this.parent!=null){i=["running","honored","pending","broken","errored"];for(e=0,f=i.length;e<f;e++)c=i[e],this.parent.results[c]+=this.results[c]}return this.emit(this.status="end",this.result),this},a.prototype.success=function(){var a;return a=Array.prototype.slice.call(arguments),a.unshift(null),this.callback.apply(this,a)},a.prototype.error=function(){var a;return a=Array.prototype.slice.call(arguments),a.length||a.unshift(new Error("Unspecified error")),this.callback.apply(this,a)},a.prototype.callback=function(){var a,b,c;if((c=this.status)==="run"||c==="end")throw this.async?new r.VowsError(this,"An asynchronous callback was made after a value was returned."):new r.VowsError(this,"An asynchronous callback was made twice.");this.emit(this.status="run"),a=Array.prototype.slice.call(arguments),b=a.shift(),typeof b=="boolean"&&!a.length?this.emit("topic",b):b!=null?(this.exception=b,this.emit.apply(this,["error",b].concat(a))):this.emit.apply(this,["topic"].concat(a))},a.prototype.add=function(a){switch(this.type){case"batch":this.content.push(a);break;case"group":this.content[a.description]=a;break;default:throw new r.VowsError(this,"Can't add to tests or comments")}return a.parent=this,this.results.total+=a.results.total,this},a.prototype["export"]=function(a,b){return a.exports[this.description]=this},a.prototype.exportTo=a.prototype["export"],a.prototype.addBatch=a.prototype.add,a}(),r.Runner=function(){function a(){a.__super__.constructor.apply(this,arguments)}return v(a,r.Context),a.prototype._totalTests=function(){var a,b,c,d;switch(this.type){case"group":b=0,d=this.content;for(c in d)a=d[c],b+=this.content[c].type==="test"}},a.prototype.run=function(b){return this.on("end",w(function(){this.results.dropped=this.results.total-(this.results.honored+this.results.pending+this.results.errored+this.results.broken),this.report("finish",this.results);if(b!=null)return b(this.results)},this)),a.__super__.run.call(this)},a}(),r.runner=new r.Runner(null,[]),r.stylizers=p={},r.stylize=function(a){var b,c,d,e,f;c=new r.stylizer(a),f=Array.prototype.slice.call(arguments).slice(1);for(d=0,e=f.length;d<e;d++)b=f[d],c.stylize(b);return c},r.format=function(a){return a=a.replace(/`([^`]+)`/g,w(function(a,b){return r.stylize(b).italic()},this)),a=a.replace(/\*([^*]+)\*/g,w(function(a,b){return r.stylize(b).bold()},this)),a=a.replace(/_([^_]+)_/g,w(function(a,b){return r.stylize(part).underline()},this)),a},t=[],r.stringify=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;return g=function(a){return a.length("length"in a?void 0:Object.keys(a).length)},m=function(a){var b,c,d,e,f;b=typeof a,d=[Object,Array,String,RegExp,Number,Function,Boolean,Date];if(b==="object"||b==="function")if(a!=null)for(e=0,f=d.length;e<f;e++)c=d[e],a instanceof c&&(b=c.name.toLowerCase());else b="null";return b},x.call(t,a)<0?(t.push(a),j=function(){switch(m(a)){case"regexp":return r.stylize("/"+a.source+"/","regexp");case"number":return r.stylize(a.toString(),"number");case"boolean":return r.stylize(a.toString(),"boolean");case"null":return r.stylize("null","special");case"undefined":return r.stylize("undefined","special");case"function":return r.stylize("[Function]","other");case"date":return r.stylize(a.toUTCString(),"default");case"string":return a=/'/.test(a)?'"'+a+'"':"'"+a+"'",a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/[\u0001-\u001F]/g,function(a){return"\\0"+a[0].charCodeAt(0).toString(8)}),r.stylize(a,"string");case"array":return i=g(a)>4||g(function(){var b,c,d;if(g(h)>0){d=[];for(b=0,c=a.length;b<c;b++)h=a[b],d.push(h);return d}}()),l=i?"\n"+function(){var a,b;b=[];for(e=0,a=4*t.length;0>a?e>=a:e<=a;0>a?e--:e++)b.push(" ");return b}().join(""):" ",d=i?ws.slice(0,-4):" ",k=","+l,c=function(){var b,c,d;d=[];for(b=0,c=a.length;b<c;b++)h=a[b],d.push(r.stringify(h));return d}().join(k),c?"["+l+c+d+"]":"[]";case"object":return i=g(a)>2||g(function(){var b,c,d,e;d=a&&g(h)>0,e=[];for(b=0,c=d.length;b<c;b++)h=d[b],e.push(h);return e}()),l=i?"\n"+function(){var a,b;b=[];for(e=0,a=4*t.length;0>a?e>=a:e<=a;0>a?e--:e++)b.push(" ");return b}().join(""):" ",d=i?ws.slice(0,-4):" ",k=","+l,c=function(){var b;b=[];for(f in a)n=a[f],b.push(r.stylize(f).key()+": "+r.stringify(n));return b}().join(k),c?"{"+l+c+d+"}":"{}"}}(),t.pop(),j):(b=t.length-t.indexOf(a),r.stylize(function(){var a;a=[];for(e=0;0>b?e>=b:e<=b;0>b?e--:e++)a.push(".");return a}().join(""),"special"))},p.BaseStylizer=function(){function a(a){this.str=""+a}return a.prototype.toString=function(){return this.str},a}(),p.ConsoleStylizer=function(){function f(){f.__super__.constructor.apply(this,arguments)}var a,b,c,d,e;v(f,p.BaseStylizer),f.prototype.styles={plain:null,bold:[1,22],light:[2,22],italic:[3,23],underline:[4,24],negative:[7,27],concealed:[8,28],struck:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],grey:[90,39]},f.prototype.mapping={success:"green",error:"red",warning:"yellow",pending:"cyan",message:"grey",result:"plain",label:"underline",key:"bold",string:"green",number:"magenta","boolean":"blue",special:"grey",regexp:"green","function":"negative",comment:"cyan"},e=f.prototype.mapping;for(a in e)c=e[a],f.prototype.styles[a]=f.prototype.styles[c];d=w(function(a){return this.prototype[a]=function(){return this.stylize(a)}},f);for(b in f.prototype.styles)d(b);return f.prototype.stylize=function(a){return this.styles[a]&&(this.str="["+this.styles[a][0]+"m"+this.str+"["+this.styles[a][1]+"m"),this},f}.call(this),p.HTMLStylizer=function(){function j(){j.__super__.constructor.apply(this,arguments)}var a,b,c,d,e,f,g,h,i;v(j,p.BaseStylizer),j.prototype.styles={bold:["b",null],italic:["i",null],underline:["u",null]},j.prototype.divs=["success","error","warning","pending","result","message"],j.prototype.spans=["label","key","string","number","boolean","special","regexp","function","comment"],h=j.prototype.divs;for(d=0,f=h.length;d<f;d++)a=h[d],j.prototype.styles[a]=["div",a];i=j.prototype.spans;for(e=0,g=i.length;e<g;e++)a=i[e],j.prototype.styles[a]=["span",a];c=w(function(a){return this.prototype[a]=function(){return this.stylize(a)}},j);for(b in j.prototype.styles)c(b);return j.prototype.stylize=function(a){var b,c,d,e;return e=this.styles[a],d=e[0],c=e[1],b=c?' class="'+c+'"':"",this.str="<"+d+b+">"+this.str+"</"+d+">",this},j}.call(this),r.reporters=o={},r.report=function(){if(r.reporter)return r.reporter.report.apply(r.reporter,arguments)},o.BaseReporter=function(){function a(){this.reset()}return a.prototype.name="silent",a.prototype.reset=function(){return null},a.prototype.report=function(a){return null},a.prototype.print=function(a){return process.stdout.write(""+a)},a.prototype.stylize=function(a){return r.stylize(a)},a}(),o.JSONReporter=function(){function a(){a.__super__.constructor.apply(this,arguments)}return v(a,o.BaseReporter),a.prototype.name="json",a.prototype.report=function(){return this.print(JSON.stringify(Array.prototype.slice.call(arguments))+"\n")},a}(),o.SpecReporter=function(){function a(){a.__super__.constructor.apply(this,arguments)}return v(a,o.BaseReporter),a.prototype.name="spec",a.prototype.report=function(a,b){switch(a){case"subject":return this.print("\n\n♢ "+this.stylize(b).bold()+"\n");case"context":return this.print(this._contextEvent(b));case"vow":return this.print(this._vowEvent(b));case"end":return this.print("\n");case"finish":return this.print("\n"+this._resultEvent(b));case"error":return this.print(this._errorEvent(b))}},a.prototype._contextEvent=function(a){return a.exception?this.stylize("\n  "+a.description+"\n").error():"\n  "+a.description+"\n"},a.prototype._vowEvent=function(a){switch(a.result){case"honored":return this.stylize("    ✓ "+a.description+"\n").success();case"broken":return this.stylize("    ✗ "+a.description+"\n      » "+a.exception+"\n").warning();case"errored":return this.stylize("    ⊘ "+a.description+"\n      » "+a.exception+"\n").error();case"pending":return this.stylize("    ∴ "+a.description+"\n      » "+a.content+"\n").pending()}},a.prototype._resultEvent=function(a){var b,c,d,e,f,g,h,i;if(a.total===0)return this.stylize("Could not find any tests to run.\n").bold().error();e=a.errored&&"errored"||a.dropped&&"dropped"||a.broken&&"broken"||a.honored&&"honored"||a.pending&&"pending",b=function(){switch(e){case"errored":return this.stylize("⊘ "+this.stylize("Errored").bold()).error();case"dropped":return this.stylize("… "+this.stylize("Incomplete").bold()).error();case"broken":return this.stylize("✗ "+this.stylize("Broken").bold()).warning();case"honored":return this.stylize("✓ "+this.stylize("Honored").bold()).success();case"pending":return this.stylize("∴ "+this.stylize("Pending").bold()).pending()}}.call(this),d=[],i=["honored","pending","broken","errored","dropped"];for(g=0,h=i.length;g<h;g++)c=i[g],a[c]&&d.push(""+this.stylize(a[c]).bold()+" "+c);return f=this.stylize(a.duration.toFixed(3)).message(),this.stylize(""+b+" » "+d.join(" ∙ ")+" ("+f+")\n").result()},a.prototype._errorEvent=function(a){return"✗ "+this.stylize("Errored").error()+" "+("» "+this.stylize(vow.description).bold())+(": "+this.stylize(vow.exception).error()+"\n")},a}(),o.DotMatrixReporter=function(){function a(){a.__super__.constructor.apply(this,arguments)}return v(a,o.SpecReporter),a.prototype.name="dot-matrix",a.prototype.reset=function(){return this.messages=[],this.lastContext=null},a.prototype.report=function(a,b){switch(a){case"subject":return null;case"context":return null;case"vow":switch(b.result){case"honored":return this.print(this.stylize("·").success());case"pending":return this.print(this.stylize("-").pending());case"broken":case"errored":return this.lastContext!==b.context&&(this.lastContext=b.context,this.messages.push("  "+b.context)),this.print(this.stylize("✗",b.result==="broken"?"warning":"error")),this.messages.push(this._vowEvent(b))}break;case"end":return this.print(" ");case"finish":return this.messages.length?this.print("\n\n"+this.messages.join("\n")+"\n"):this.print("\n"),this.print(this._resultEvent(b)+"\n");case"error":return this.print(this._errorEvent(b))}},a}(),o.HTMLSpecReporter=function(){function a(){a.__super__.constructor.apply(this,arguments)}return v(a,o.SpecReporter),a.prototype.name="html-spec",a.prototype.print=function(a){return document.getElementById("vows-results").innerHTML+=a},a}(),c=require("assert"),c.AssertionError.prototype.toString=function(){var a,b,c;return this.stack&&(c=this.stack.match(/([a-zA-Z0-9_-]+\.js)(:\d+):\d+/)),this.message?(b=r.stylize(this.message.replace(/{actual}/g,r.stringify(this.actual)).replace(/{operator}/g,r.stylize(this.operator).bold()).replace(/{expected}/g,r.stringify(this.expected))).warning(),a=c?r.stylize(" // "+c[1]+c[2]).comment():"",b+a):r.stylize([this.expected,this.operator,this.actual].join(" ")).warning()},c.matches=c.match=function(a,b,d){if(!b.test(a))return c.fail(a,b,d,"match",c.match)},c.isTrue=function(a,b){if(a!==!0)return c.fail(a,!0,b,"===",c.isTrue)},c.isFalse=function(a,b){if(a!==!1)return c.fail(a,!1,b,"===",c.isFalse)},c.isZero=function(a,b){if(a!==0)return c.fail(a,0,b,"===",c.isZero)},c.isNotZero=function(a,b){if(a===0)return c.fail(a,0,b,"===",c.isNotZero)},c.greater=function(a,b,d){if(a<=b)return c.fail(a,b,d,">",c.greater)},c.lesser=function(a,b,d){if(a>=b)return c.fail(a,b,d,"<",c.lesser)},c.includes=c.include=function(a,b,d){if(!(j(a)||l(a)&&a.indexOf(b)!==-1||k(a)&&a.hasOwnProperty(b)))return c.fail(a,b,d,"include",c.include)},c.isEmpty=function(a,b){var d;if(!(k(a)&&function(){var b;b=[];for(d in a)b.push(d);return b}().length===0||a.length===0))return c.fail(a,0,b,"length",c.isEmpty)},c.length=function(a,b,d){if(!a.length===b)return c.fail(a,b,d,"length",c.length)},c.isNull=function(a,b){if(a!==null)return c.fail(a,null,b,"===",c.isNull)},c.isNotNull=function(a,b){if(a===null)return c.fail(a,null,b,"===",c.isNotNull)},c.isUndefined=function(a,b){if(a!==void 0)return c.fail(a,void 0,b,"===",c.isUndefined)},c.isNumber=function(a,b){return isNaN(a)?c.fail(a,"number",b||"expected {actual} to be of type {expected}","isNaN",c.isNumber):d(a,"number",b||"expected {actual} to be a Number",c.isNumber)},c.isNaN=function(a,b){if(!a===a)return c.fail(a,"NaN",b,"===",c.isNaN)},c.isArray=function(a,b){return d(a,"array",b,c.isArray)},c.isObject=function(a,b){return d(a,"object",b,c.isObject)},c.isString=function(a,b){return d(a,"string",b,c.isString)},c.isFunction=function(a,b){return d(a,"function",b,c.isFunction)},c.typeOf=function(a,b,e){return d(a,b,e,c.typeOf)},c.instanceOf=function(a,b,d){if(!(a instanceof b))return c.fail(a,b,d,"instanceof",c.instanceOf)},d=function(a,b,d,e){if(q(a)!==b)return c.fail(a,b,d||"expected {actual} to be of type {expected}","typeOf",e)},j=(s=Array.isArray)!=null?s:function(a){return Object.prototype.toString.call(a)==="[object Array]"},l=function(a){return typeof a=="string"||a instanceof String},k=function(a){return typeof a=="object"&&a&&!j(a)},q=function(a){var b,c,d,e,f;b=typeof a,d=[Object,Array,String,RegExp,Number,Function,Boolean,Date];if(b==="object"||b==="function")if(a)for(e=0,f=d.length;e<f;e++)c=d[e],a instanceof c&&(b=c.name.toLowerCase());else b="null";return b},g={1:{ok:"expected a truthy expression, got {actual}",isTrue:"expected {expected}, got {actual}",isFalse:"expected {expected}, got {actual}",isZero:"expected {expected}, got {actual}",isNotZero:"expected non-zero value, got {actual}",isEmpty:"expected {actual} to be empty",isNaN:"expected {actual} to be NaN",isNull:"expected {expected}, got {actual}",isNotNull:"expected non-null value, got {actual}",isUndefined:"expected {actual} to be {expected}",isArray:"expected {actual} to be an Array",isObject:"expected {actual} to be an Object",isString:"expected {actual} to be a String",isFunction:"expected {actual} to be a Function"},2:{instanceOf:"expected {actual} to be an instance of {expected}",equal:"expected {expected},\n\tgot\t {actual} ({operator})",strictEqual:"expected {expected},\n\tgot\t {actual} ({operator})",deepEqual:"expected {expected},\n\tgot\t {actual} ({operator})",notEqual:"didn't expect {actual} ({operator})",notStrictEqual:"didn't expect {actual} ({operator})",notDeepEqual:"didn't expect {actual} ({operator})",match:"expected {actual} to match {expected}",matches:"expected {actual} to match {expected}",include:"expected {actual} to include {expected}",includes:"expected {actual} to include {expected}",greater:"expected {actual} to be greater than {expected}",lesser:"expected {actual} to be lesser than {expected}",length:"expected {actual} to have {expected} element(s)"}};for(n in g){h=g[n];for(m in h)f=h[m],e=c[m],c[m]=function(a,b,c,d){return function(){var b,e;b=Array.prototype.slice.call(arguments);while(b.length<=a)b.push(void 0);return(e=b[a])==null&&(b[a]=c),d.apply(null,b)}}(n,m,f,e)}typeof document!="undefined"&&document!==null&&(r.reporter=new r.reporters.HTMLSpecReporter,r.stylizer=r.stylizers.HTMLStylizer),provide("ender-vows",a.exports),!function(a){var b,c;return c=require("vows"),b=require("domready"),b(function(){c.run()})}(ender)}()